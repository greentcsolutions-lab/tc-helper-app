{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/schemas/states/ca/simple-classifier.schema.json",
  "title": "Simple Per-Page CAR Footer Detector Output",
  "description": "Output for the super-simple classifier. One entry per image in batch order. Null = no CAR form footer detected.",
  "type": "object",
  "properties": {
    "pages": {
      "type": "array",
      "description": "Exactly one entry per image sent, in the same order (index 0 = first image in batch = lowest pdfPage).",
      "minItems": 1,
      "maxItems": 20,
      "items": {
        "oneOf": [
          {
            "type": "null",
            "description": "No valid CAR form footer found on this page"
          },
          {
            "type": "object",
            "description": "Valid CAR form footer detected",
            "properties": {
              "pdfPage": {
                "type": "integer",
                "minimum": 1,
                "description": "The absolute PDF page number this image corresponds to"
              },
              "formCode": {
                "type": "string",
                "enum": ["RPA", "SCO", "SMCO", "BCO"],
                "description": "The detected form abbreviation"
              },
              "formPage": {
                "type": "integer",
                "minimum": 1,
                "description": "Internal page number from the footer (X in PAGE X OF Y)"
              },
              "footerText": {
                "type": "string",
                "description": "Exact footer text read by the model (for debugging / validation)"
              }
            },
            "required": ["pdfPage", "formCode", "formPage", "footerText"],
            "additionalProperties": false
          }
        ]
      }
    }
  },
  "required": ["pages"],
  "additionalProperties": false
}