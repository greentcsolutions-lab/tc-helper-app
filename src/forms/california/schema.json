{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/schemas/real-estate-offer.schema.json",
  "title": "Real Estate Purchase Offer",
  "description": "Version 2.1.0 - 2025/12/20 Schema for extracted data from real estate purchase offer contracts",
  "type": "object",
  "properties": {
    "buyerNames": {
      "description": "Names of the buyer(s). Supports 1 to 4 buyers.",
      "type": "array",
      "items": { "type": "string", "minLength": 1 },
      "minItems": 1,
      "maxItems": 4,
      "example": ["John Doe", "Jane Doe"]
    },
    "propertyAddress": {
      "type": "string",
      "description": "Full address of the property being purchased.",
      "example": "123 Main St, Los Angeles, CA 90210"
    },
    "purchasePrice": {
      "type": "number",
      "description": "Purchase price in USD (stored as a number without currency symbol).",
      "minimum": 0,
      "example": 1950000
    },
    "allCashOffer": {
      "type": "boolean",
      "description": "Whether the offer is all cash (no financing).",
      "example": false
    },
    "initialDepositAmount": {
      "type": "number",
      "description": "Initial earnest money deposit amount in USD.",
      "minimum": 0,
      "example": 12345
    },
    "loanType": {
      "type": "string",
      "enum": ["Conventional", "FHA", "VA", "n/a"],
      "description": "Type of loan. Defaults to 'Conventional' unless a checkbox for FHA or VA is selected, or 'n/a' for all cash.",
      "default": "Conventional",
      "example": "Conventional"
    },
    "sellerCreditToBuyer": {
      "description": "Seller credit toward buyer's costs. Use the string 'None' when no credit is offered.",
      "oneOf": [
        { "type": "string", "const": "None" },
        { "type": "number", "minimum": 0 }
      ],
      "default": "None",
      "example": "None"
    },
    "countersAndAddendaSummary": {
      "type": ["string", "null"],
      "description": "Free-text summary of counters and addenda reflecting the latest accepted terms. Requires reasoning to determine final terms. Use null if no counters or addenda exist.",
      "example": "Counter offer accepted with revised close date of 45 days and $5,000 seller credit."
    },
    "homeWarrantyOrderedBy": {
      "type": "string",
      "enum": ["Seller", "Buyer", "Both", "Waived"],
      "description": "Who is responsible for ordering the home warranty.",
      "example": "Buyer"
    },
    "sellerMaxWarrantyCost": {
      "type": ["string", "null"],
      "description": "Maximum cost the seller will pay for warranty (often 'Not Specified').",
      "default": "Not Specified",
      "example": "Not Specified"
    },
    "homeWarrantyProvider": {
      "type": ["string", "null"],
      "description": "Name of the home warranty company, if specified.",
      "example": "First American Home Warranty"
    },
    "copContingency": {
      "type": "boolean",
      "description": "Contingency for the Sale of Buyer's Property. True if active, false if waived.",
      "example": false
    },
    "finalAcceptanceDate": {
      "type": ["string", "null"],
      "format": "date",
      "description": "Date the offer was fully accepted (YYYY-MM-DD).",
      "example": "2023-10-20"
    },
    "initialDepositDue": {
      "description": "Number of business days after acceptance the initial deposit is due. Use the written-in value if present; otherwise apply default of 3.",
      "type": "integer",
      "minimum": 0,
      "default": 3,
      "example": 3
    },
    "sellerDeliveryOfDocuments": {
      "description": "Number of days after acceptance seller must deliver documents. Use written-in value if present; otherwise apply default of 7.",
      "type": "integer",
      "minimum": 0,
      "default": 7,
      "example": 7
    },
    "crbAttachedAndSigned": {
      "type": "string",
      "enum": ["Yes", "No"],
      "description": "Whether the CR-B form is attached and signed.",
      "example": "No"
    },
    "inspectionContingency": {
      "description": "Inspection contingency timeframe. Can be number of days after acceptance (default 17 if blank) or a specific date if overridden.",
      "oneOf": [
        { "type": "integer", "minimum": 0, "example": 17 },
        { "type": "string", "format": "date", "example": "2025-12-31" },
        { "type": "string", "const": "Waived" }
      ],
      "default": 17
    },
    "appraisalContingency": {
      "description": "Appraisal contingency timeframe. Can be number of days after acceptance (default 17 if blank) or a specific date if overridden.",
      "oneOf": [
        { "type": "integer", "minimum": 0, "example": 17 },
        { "type": "string", "format": "date", "example": "2025-12-31" },
        { "type": "string", "const": "Waived" }
      ],
      "default": 17
    },
    "loanContingency": {
      "description": "Loan contingency timeframe. Can be number of days after acceptance (default 17 if blank) or a specific date if overridden.",
      "oneOf": [
        { "type": "integer", "minimum": 0, "example": 17 },
        { "type": "string", "format": "date", "example": "2025-12-31" },
        { "type": "string", "const": "Waived" }
      ],
      "default": 17
    },
    "closeOfEscrow": {
      "description": "Close of escrow timeframe. Must preserve exactly what appears on the final accepted contract: either number of days after acceptance or a specific date.",
      "oneOf": [
        { "type": "integer", "minimum": 0, "example": 30 },
        { "type": "string", "format": "date", "example": "2025-12-25" }
      ],
      "example": 30
    },
    "buyersBrokerage": {
      "type": "string",
      "description": "Name of the buyer's brokerage firm.",
      "example": "Equity Union Mortgage"
    },
    "buyersAgent": {
      "type": "string",
      "description": "Name of the buyer's agent.",
      "example": "Sarah Johnson"
    },
    "buyersAgentEmail": {
      "type": "string",
      "format": "email",
      "description": "Email address of the buyer's agent.",
      "example": "sarah.johnson@equityunion.com"
    },
    "buyersAgentPhone": {
      "type": "string",
      "description": "Phone number of the buyer's agent in US format (XXX) XXX-XXXX.",
      "pattern": "^\\(\\d{3}\\) \\d{3}-\\d{4}$",
      "example": "(555) 123-4567"
    },
    "sellersBrokerage": {
      "type": "string",
      "description": "Name of the seller's/listing brokerage firm.",
      "example": "Redfin"
    },
    "listingAgent": {
      "type": "string",
      "description": "Name of the listing agent.",
      "example": "Michael Chen"
    },
    "listingAgentEmail": {
      "type": "string",
      "format": "email",
      "description": "Email address of the listing agent.",
      "example": "michael.chen@redfin.com"
    },
    "listingAgentPhone": {
      "type": "string",
      "description": "Phone number of the listing agent in US format (XXX) XXX-XXXX.",
      "pattern": "^\\(\\d{3}\\) \\d{3}-\\d{4}$",
      "example": "(555) 987-6543"
    }
  },
  "required": [
    "buyerNames",
    "propertyAddress",
    "purchasePrice",
    "allCashOffer",
    "initialDepositAmount",
    "loanType",
    "homeWarrantyOrderedBy",
    "copContingency",
    "closeOfEscrow",
    "buyersBrokerage",
    "buyersAgent",
    "sellersBrokerage",
    "listingAgent"
  ],
  "additionalProperties": false
}